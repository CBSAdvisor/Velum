@inherits Umbraco.Web.Mvc.UmbracoViewPage<ContentModels.MightyPartyCollection>
@using ContentModels = Umbraco.Web.PublishedModels;
@{
    Layout = "master.cshtml";
    var cards = Model.Children<MightyPartyCard>().ToArray();
}

<div class="content content-full">
    <!-- PAGE-INNER -->
    <div class="page-inner">
        <!-- PAGE-HEADER -->
        <div class="page-header">
            <h4 class="page-title">@Model.PageTitle</h4>
        </div>
        <!-- / PAGE-HEADER -->

        <!-- COLLECTION CONTAINER -->
        <div class="container-fluid">
            @*<div class="row">
                @foreach (var card in cards)
                {
                    <div class="card d-flex flex-column m-1" style="width: 128px;">
                        <img class="card-img-top" src="@card.CardImage.Url" alt="@card.CardName" />
                        <div class="p-1" style="flex: 1; background-color: #@card.MightyPartyRarity.Color !important;">
                            <p class="card-text fw-bold text-white"><small>@card.CardName</small></p>
                        </div>
                    </div>
                }
            </div>*@
            <div class="row">
                @foreach (var card in cards)
                {
                    <div class="card d-flex flex-column m-1" style="flex: 0 0 168px">
                        <div class="p-2 bg-secondary fw-bold text-white" style="flex: 1;"><small>@card.CardName</small></div>
                        <div class="d-flex flex-row">
                            <div style="flex: 0 0 128px;">
                                <img src="@card.CardImage.Url" class="card-img" alt="@card.CardName">
                            </div>
                            <div class="d-flex flex-column" style="flex: 1; background-color: #@card.MightyPartyRarity.Color !important;">
                                @{
                                    var race = card.Value<MightPartyRace>("creatureRace");
                                    var kindOfTroops = card.Value<MightyPartyKindOfTroops>("kindOfTroops");
                                }
                                <div class="px-2 pt-1">
                                    <img src="@race.RaceImage.Url" alt="" style="width: 24px" />
                                </div>
                                <div class="px-2 pt-1">
                                    <img src="@kindOfTroops.TroopsImage.Url" alt="" style="width: 24px" />
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
        <!-- / COLLECTION CONTAINER -->

    </div>
    <!-- / PAGE-INNER -->

</div>
